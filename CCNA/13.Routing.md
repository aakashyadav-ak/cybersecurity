- Routing is the process by which a router determines the best path to forward data packets from a source network to a destination network.
- When a packet arrives at a router, the router looks at the destination IP address and checks its routing table to decide where to send the packet next.
```
PC A (192.168.10.5)  wants to reach  PC B (192.168.20.5)

PC A → Router checks routing table → Finds path → Forwards to PC B
```

## How Does a Router Learn Routes
### 3 Ways
 1. Static Routes
 2. Dynamic Routes
 3. Default Route

#### Static Routes
Administrator manually types the route into the router. You tell the router exactly where to send packets for a specific destination.

example
```
ip route 192.168.30.0 255.255.255.0 192.168.20.2
```

**This means:**

- To reach network 192.168.30.0/24
- Send packets to next-hop 192.168.20.2

**When to use Static Routes:**

- Small networks with few routers
- Stub networks (only one way in/out)
- Backup routes
- When you want full control

#### Dynamic Routes
Routers automatically learn routes from other routers using routing protocols. Routers share information with each other and build their routing tables automatically.

Example Protocols: **RIP, OSPF, EIGRP**

**When to use:**
- Medium to large networks
- Networks that change frequently
- When you need automatic failover

**Advantages:**
- Automatic route discovery
- Adapts to network changes
- Less manual work

#### Default Route
A gateway of last resort - when router doesn't know where to send a packet, it sends it to this default path.

example
```
ip route 0.0.0.0 0.0.0.0 192.168.1.1
```

**This means:**
- For ANY unknown destination (0.0.0.0/0)
- Send it to 192.168.1.1
- 
**Use Case:**
- Connection to Internet
- Branch office connecting to headquarters
- When you cannot know all possible destinations


# Dynamic Routing Protocols - 3 Types

## Overview
Dynamic routing protocols automatically discover and maintain routes between networks, adapting to topology changes without manual intervention.

---

## 1. Distance Vector Protocols

**Concept:** Routes based on "distance" (hop count) and "direction" (next-hop router)

**How it works:**
- Routers share entire routing table with neighbors
- Uses hop count as primary metric
- Periodic updates sent at intervals

**Pros:** Simple, low resource usage
**Cons:** Slow convergence, routing loops possible

### RIP (Routing Information Protocol)
- Oldest routing protocol
- Max hop count: 15 (16 = unreachable)
- Updates every 30 seconds
- Classful routing (no subnet mask info)
- Uses broadcast for updates
- Best for small networks

### RIPv2
- Enhanced version of RIP
- Classless routing (supports VLSM/CIDR)
- Supports authentication
- Uses multicast (224.0.0.9) instead of broadcast
- Still limited to 15 hops
- Backward compatible with RIPv1


---

## 2. Link State Protocols

**Concept:** Each router builds complete map of network topology

**How it works:**
- Routers flood link-state advertisements (LSAs)
- Each router calculates shortest path independently
- Uses Dijkstra's algorithm (SPF)

**Pros:** Fast convergence, loop-free, scalable
**Cons:** Higher CPU/memory usage, complex configuration

### ==OSPF (Open Shortest Path First)==
- Open standard (non-proprietary)
- Uses cost as metric (based on bandwidth)
- Supports VLSM and CIDR
- Hierarchical design with areas (Area 0 = backbone)
- Fast convergence with triggered updates
- Uses multicast: 224.0.0.5 and 224.0.0.6
- Administrative distance: 110
- Best for large enterprise networks

### IS-IS (Intermediate System to Intermediate System)
- ISO standard protocol
- Used heavily by ISPs and large networks
- Supports both IP and OSI protocols
- Uses cost as metric
- Hierarchical with Level 1 and Level 2 areas
- Runs directly over Layer 2 (not IP)
- Very scalable and stable
- Administrative distance: 115

---

## 3. Hybrid Protocols (Advanced Distance Vector)

**Concept:** Combines best features of distance vector and link state

**How it works:**
- Uses neighbor relationships like link state
- Sends updates only when changes occur
- DUAL algorithm for loop prevention

**Pros:** Fast convergence, efficient bandwidth use, loop-free
**Cons:** Cisco proprietary (mostly), complex metrics

### EIGRP (Enhanced Interior Gateway Routing Protocol)
- Cisco proprietary (now partially open)
- Uses composite metric: bandwidth, delay, load, reliability
- DUAL algorithm ensures loop-free paths
- Maintains 3 tables: neighbor, topology, routing
- Supports VLSM and CIDR
- Unequal cost load balancing
- Uses multicast: 224.0.0.10
- Administrative distance: 90 (internal), 170 (external)
- Fast convergence with feasible successors
- Best for Cisco-dominant networks

---

## Quick Comparison Table

| Protocol | Type | Metric | Max Hops | Update Method | AD |
|----------|------|--------|----------|---------------|-----|
| RIP | Distance Vector | Hop count | 15 | Periodic (30s) | 120 |
| RIPv2 | Distance Vector | Hop count | 15 | Periodic (30s) | 120 |
| IGRP | Distance Vector | Composite | 255 | Periodic (90s) | 100 |
| OSPF | Link State | Cost | None | Triggered | 110 |
| IS-IS | Link State | Cost | None | Triggered | 115 |
| EIGRP | Hybrid | Composite | 255 | Triggered | 90 |

---

## Key Takeaways

- **RIP/RIPv2** = Simple, small networks, 15 hop limit
- **IGRP** = Cisco legacy, obsolete, replaced by EIGRP
- **OSPF** = Industry standard, scalable, area-based design
- **IS-IS** = ISP favorite, very scalable, Layer 2 based
- **EIGRP** = Cisco best, fastest convergence, complex metrics